{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\HOME\\\\Desktop\\\\hindustan-daily\\\\pages\\\\reviews\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport Head from 'next/head';\nimport Layout from '../../components/Layout';\nimport AdPost from '../../components/adpost';\nimport Headlines from '../../components/headlines';\n\nvar client = require('contentful').createClient({\n  space: process.env.NEXT_PUBLIC_CONTENTFUL_SPACE_ID,\n  accessToken: process.env.NEXT_PUBLIC_CONTENTFUL_ACCESS_TOKEN\n});\n\nfunction Reviewspage() {\n  _s();\n\n  var _this = this;\n\n  function fetchReviews() {\n    return _fetchReviews.apply(this, arguments);\n  }\n\n  function _fetchReviews() {\n    _fetchReviews = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var entries;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return client.getEntries({\n                content_type: \"post\",\n                'fields.category[match]': \"movie-reviews\"\n              });\n\n            case 2:\n              entries = _context2.sent;\n\n              if (!entries.items) {\n                _context2.next = 5;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", entries.items);\n\n            case 5:\n              console.log(\"Error getting Entries for \".concat(contentType.name, \".\"));\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _fetchReviews.apply(this, arguments);\n  }\n\n  function fetchAds() {\n    return _fetchAds.apply(this, arguments);\n  }\n\n  function _fetchAds() {\n    _fetchAds = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var entries;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return client.getEntries({\n                content_type: \"addPost\"\n              });\n\n            case 2:\n              entries = _context3.sent;\n\n              if (!entries.items) {\n                _context3.next = 5;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", entries.items);\n\n            case 5:\n              console.log(\"Error getting Entries for \".concat(contentType.name, \".\"));\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _fetchAds.apply(this, arguments);\n  }\n\n  var _useState = useState([]),\n      movieReviews = _useState[0],\n      setMovieReviews = _useState[1];\n\n  var _useState2 = useState([]),\n      ads = _useState2[0],\n      setAds = _useState2[1];\n\n  useEffect(function () {\n    function getPosts() {\n      return _getPosts.apply(this, arguments);\n    }\n\n    function _getPosts() {\n      _getPosts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var movieReviews, allAds;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetchReviews();\n\n              case 2:\n                movieReviews = _context.sent;\n                setMovieReviews(_toConsumableArray(movieReviews));\n                console.log(movieReviews);\n                _context.next = 7;\n                return fetchAds();\n\n              case 7:\n                allAds = _context.sent;\n                setAds(_toConsumableArray(allAds));\n                console.log(allAds);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getPosts.apply(this, arguments);\n    }\n\n    getPosts();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 col-lg-8 mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: ads.length > 0 ? /*#__PURE__*/_jsxDEV(AdPost, {\n                image: ads[2].fields.adPost.fields,\n                link: ads[2].fields.link\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 11\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: movieReviews.length > 0 ? movieReviews.map(function (p) {\n                return /*#__PURE__*/_jsxDEV(Headlines, {\n                  date: p.fields.date,\n                  image: p.fields.image.fields,\n                  title: p.fields.title,\n                  slug: p.fields.slug\n                }, p.fields.title, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 13\n                }, _this);\n              }) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Reviewspage, \"aK6v69UFXIvUDNQU9hLFXw7DWYQ=\");\n\n_c = Reviewspage;\nexport default Reviewspage;\n\nvar _c;\n\n$RefreshReg$(_c, \"Reviewspage\");","map":{"version":3,"sources":["C:/Users/HOME/Desktop/hindustan-daily/pages/reviews/index.js"],"names":["useEffect","useState","Head","Layout","AdPost","Headlines","client","require","createClient","space","process","env","NEXT_PUBLIC_CONTENTFUL_SPACE_ID","accessToken","NEXT_PUBLIC_CONTENTFUL_ACCESS_TOKEN","Reviewspage","fetchReviews","getEntries","content_type","entries","items","console","log","contentType","name","fetchAds","movieReviews","setMovieReviews","ads","setAds","getPosts","allAds","length","fields","adPost","link","map","p","date","image","title","slug"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport Head from 'next/head'\r\nimport Layout from '../../components/Layout'\r\nimport AdPost from '../../components/adpost'\r\nimport Headlines from '../../components/headlines'\r\n\r\nconst client = require('contentful').createClient({\r\n  space: process.env.NEXT_PUBLIC_CONTENTFUL_SPACE_ID,\r\n  accessToken: process.env.NEXT_PUBLIC_CONTENTFUL_ACCESS_TOKEN\r\n})\r\n\r\nfunction Reviewspage() {\r\n  async function fetchReviews() {\r\n    const entries = await client.getEntries({ content_type: \"post\", 'fields.category[match]': \"movie-reviews\" })\r\n    if (entries.items) return entries.items\r\n    console.log(`Error getting Entries for ${contentType.name}.`)\r\n  }\r\n\r\n  async function fetchAds() {\r\n    const entries = await client.getEntries({ content_type: \"addPost\" })\r\n    if (entries.items) return entries.items\r\n    console.log(`Error getting Entries for ${contentType.name}.`)\r\n  }\r\n\r\n  const [movieReviews, setMovieReviews] = useState([])\r\n  const [ads, setAds] = useState([])\r\n\r\n  useEffect(() => {\r\n    async function getPosts() {\r\n      const movieReviews = await fetchReviews()\r\n      setMovieReviews([...movieReviews])\r\n      console.log(movieReviews);\r\n      const allAds = await fetchAds()\r\n      setAds([...allAds])\r\n      console.log(allAds);\r\n    }\r\n    getPosts()\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <Layout>\r\n      <div className=\"container\">\r\n      <div className=\"row\">\r\n      <div className=\"col-md-6 col-lg-8 mt-3\">\r\n      <div>\r\n      {ads.length > 0\r\n        ? <AdPost\r\n            image = {ads[2].fields.adPost.fields}\r\n            link = {ads[2].fields.link}\r\n          /> : null\r\n      }\r\n      </div>\r\n      <div className=\"mt-3\">\r\n      {movieReviews.length > 0\r\n        ? movieReviews.map(p => (\r\n            <Headlines\r\n              date={p.fields.date}\r\n              key={p.fields.title}\r\n              image={p.fields.image.fields}\r\n              title={p.fields.title}\r\n              slug={p.fields.slug}\r\n            />\r\n          ))\r\n        : null}\r\n        </div>\r\n        </div>\r\n        </div>\r\n        </div>\r\n        </Layout>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Reviewspage\r\n"]},"metadata":{},"sourceType":"module"}